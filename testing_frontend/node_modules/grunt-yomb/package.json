{
  "name": "grunt-yomb",
  "version": "0.4.10",
  "description": "YOM builder",
  "keywords": [
    "YOM",
    "amd",
    "builder",
    "gruntplugin"
  ],
  "homepage": "https://github.com/webyom/grunt-yomb",
  "author": {
    "name": "Gary Wang",
    "email": "webyom@gmail.com",
    "url": "http://webyom.org"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/webyom/grunt-yomb.git"
  },
  "bugs": {
    "url": "https://github.com/webyom/grunt-yomb/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/webyom/grunt-yomb/blob/master/LICENSE-MIT"
    }
  ],
  "main": "Gruntfile.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "uglify-js": "~2.2.5",
    "cssmin": "~0.3.2",
    "less": "~1.3.3",
    "coffee-script": "~1.6.3"
  },
  "devDependencies": {
    "grunt-contrib-jshint": "~0.1.1",
    "grunt-contrib-clean": "~0.4.0",
    "grunt-contrib-nodeunit": "~0.1.2",
    "grunt": "~0.4.1"
  },
  "peerDependencies": {
    "grunt": "~0.4.1"
  },
  "readme": "# YOM Builder\nYOM builder is a tool for packaging AMD modules, compiling micro templates and optimizing html files.\n\n## Installation\nFirstly you need to install [nodejs](http://nodejs.org/) and [npm](https://www.npmjs.org/), then install [grunt](http://gruntjs.com/) with command `npm install -g grunt` as we use grunt to run yomb tasks. At last use command `npm install grunt-yomb --save-dev` to install our builder.\n\n## Conventions\nToo many configarations bring in complexity and is hard to maintain, so we make some conventions to ease our work.  \n*We use \"(example)\" or \"(dist, src)\" to show an example. \"src\" links to source files, and \"dist\" links to built result files.*  \n- JS file of which name is \"main\" or end with \"-main\", \"\\_main\", \".main\" is the target building file. For example, \"main.js\", \"index-main.js\", \"index\\_main.js\" and \"index.main.js\" are target building files ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/simple), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/simple)). \n- Dependancy module with relative path will be packaged with target building file. This process is recursive, which means if \"main\" requires \"./foo\", and \"./foo\" requires \"./bar\", then \"main\", \"./foo\" and \"./bar\" will be packaged together.\n`var foo = require('./foo');`  \n`var bar = require('../bar');`  \n`var vender = require('vender');`  \nfoo and bar will be packaged with target building file ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/package-dependancy), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/package-dependancy)).  \nIf the output file is in the same folder, the output file names are \"main-built.js\", \"index-main-built.js\", \"index_main_built.js\" and \"index.main.built.js\" in order not to overwrite the orignal files, or else the output file name is the same as the target building file ([example](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/same-folder-output)). \n- Html file of which name is end with '.tpl' is micro template file. This file will be built into AMD module file. For example, you have a file named \"cargo-list.tpl.html\", and you can require it as below.  \n`var cargoListTmpl = require('./cargo-list.tpl.html');`  \nThen you can use it as below.  \n`$('cargo-list').innerHTML = cargoListTmpl.render(data);`  \nAs JS file, html file of which name is \"main.tpl\" or end with \"-main.tpl\", \"\\_main.tpl\", \".main.tpl\" will be built into AMD module file. For example, \"foo-main.tpl.html\" will be built into \"foo-main.tpl.html.js\" ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/compile-template), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/compile-template)).\n- less file of which name is \"main\" or end with \"-main\", \"\\_main\", \".main\" will be built into css file. For example, \"foo-main.less\" will be built into \"foo-main.css\" ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/compile-less), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/compile-less)). \n\n### Require AMD modules in template\nAs templates will be built into AMD modules, they can also require other AMD modules.\n```javascript\n<%\nvar $ = require('jquery');\nvar fooTpl = require('./foo.tpl.html');\n%>\n<%=fooTpl.render($data)%>\n```\n\n### Write AMD module like nodejs module\nYou can write your client AMD module like writing a nodejs module, yomb will build it into a formalized AMD module. You must assign your module implementation to `module.exports` ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/write-like-nodejs), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/write-like-nodejs)).\n```javascript\nvar $ = require('jquery');\nvar foo = {};\nfoo.bar = function() {\n  alert('hello world');\n};\nmodule.exports = foo;\n```\nwill be built into\n```javascript\ndefine(['require', 'exports', 'module', 'jquery'], function(require, exports, module) {\n  var $ = require('jquery');\n  var foo = {};\n  foo.bar = function() {\n    alert('hello world');\n  };\n  module.exports = foo;\n});\n```\n\n### Use variables in requiring module name\n```javascript\nvar langFoo = require('lang/{{G.LANG}}/foo');\nvar foo = {};\nfoo.bar = function() {\n  alert(langFoo.hello);\n};\nmodule.exports = foo;\n```\nwill be built into\n```javascript\ndefine(['require', 'exports', 'module', 'lang/' + G.LANG + '/foo'], function(require, exports, module) {\n  var langFoo = require('lang/' + G.LANG + '/foo');\n  var foo = {};\n  foo.bar = function() {\n    alert(langFoo.hello);\n  };\n  module.exports = foo;\n});\n```\n\n## Usage\nFirstly you need to create a *Gruntfile.js* file ([example](https://github.com/webyom/grunt-yomb-example/blob/master/Gruntfile.js)) in the root filder of your project. Then add a \"yomb\" task in grunt file, then add some targets in yomb task. The name of a target should be start with \"coffee-\",  \"build-\", \"concat-\" or \"copy-\". You can run yomb task with command `grunt yomb`.\n- `coffee-` : compile coffeescript file into javascript file ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/compile-coffee), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/compile-coffee)).\n- `build-` : build AMD module, micro template or html source file.\n- `concat-` : concat one or multiple files into one file.\n- `copy-` : copy files.\nYOM builder is built on NodeJS. You can run it in command line like this:  \n`node path/to/builder.js`\nIn \"coffee-\" and \"build-\" targets, you can set \"ignore\" property to ignore some folders or files.\n```javascript\n'coffee-all': {\n  files: [\n    {\n      src: 'src',\n      ignore: {\n        'node_modules': 1\n      }\n    }\n  ]\n},\n'build-all': {\n  files: [\n    {\n      src: 'src',\n      dest: 'dist',\n      ignore: {\n        'node_modules': 1,\n        'script/vender/jquery/jquery.js': 1\n      }\n    }\n  ]\n},\n```\n\n## Command line options\n- `--config-file filepath` : In general builder does't need config file to work,  It does traversal building in current working directory according to the rules. However, you can specify a config file to use advanced setting.\n- `--uglify N` : YOM builder use uglifyJS to compress JS code. N stands for compress level, default is 0.  \n-1: beautify  \n0 : do nothing  \n1 : uglify  \n2 : mangle  \n3 : squeeze\n- `--cssmin` : YOM builder use cssmin to compress CSS code. Pass this if you want to compress CSS file.\n- `--compressHtml` : YOM builder use google htmlcompressor to compress HTML code. Pass this if you want to compress HTML file.\n- `--compress-html-options` : Options passed to htmlcompressor.\n- `--build-node-tpl` : Pass this if you want to build micro template file into nodeJS module file.\n- `--exclude filelist` : Relative file path list delimited by comma. Used to exclude files built with target building file.\n- `--output-base-path` : If this was specified, all the output path will be joined with thie base path.\n\n## yomb task options\n- `uglify` : Same as uglify option in command line.  \neg. `{\"uglify\": -1}`\n- `cssmin` : Same as cssmin option in command line.  \neg. `{\"cssmin\": true}`\n- `compressHtml` : Same as compress-html option in command line.  \neg. `{\"compressHtml\": true}`\n- `outputBasePath` : Same as output-base-path option in command line.  \neg. `{\"outputBasePath\": \"../static}`\n- `buildNodeTpl` : Same as build-node-tpl option in command line.  \neg. `{\"buildNodeTpl\": true}`\n- `exclude` : Same as exclude option in command line, and has higher priority, but is a hash object.  \neg. `{\"exclude\" : {\"./mod1\": 1, \"../mod2\": 1}}`\n- `copyright` : JS copyright text.  \neg. `{\"copyright\": \"/* All rights reserved */\"}`\n- `properties` : This option defines reusable values.  \neg. `{\"properties\": {\"a\": {\"b\": {\"c\": 1}}}}`  \nDefined values can be used as `%{{a.b.c}}%` in html source file and template.  \n\"\\_lang\\_\" is a special property, it is the language code being processed. You can use `%{{_lang_}}%` in html source file to include language resource file.  \neg. `<!-- include \"lang/%{{_lang_}}%/foo.js\" -->`  \n- `lang` : Multiple language support.\n    - `base` : The path where language resource files placed. Language resource file should be AMD module file.  \n    eg. `{\"lang\": {\"base\": \"./js/lang\"}}`\n\n## Optimize html file\nYOM builder can build external JS and CSS file into Html file, in order to enhance the page performance by reducing http request amount. Html file of which name is end with \".src\" is considerred the source file to be optimized, and the optimized result file will be output to the output folder with the name without \".src\". Micro template file can also be optimized in this way. Below are instructions of optimization. Html file of which name is end with \".inc\" is reusable html segment file, which can be included in the source file ([dist](https://github.com/webyom/grunt-yomb-example/blob/master/dist/examples/html-optimization), [src](https://github.com/webyom/grunt-yomb-example/blob/master/src/examples/html-optimization)).\n- `include` : Include an external file into the Html source file, the included file can also be Html source file, and the optimization is done recursively.  \neg. `<!-- include \"./mod1.js\" -->`, `<!-- include \"./segment.inc.html\" -->`  \nYou can even specify a plain-id to the instruction, in order to make the JS code not execuded immediately, and execude it on demand.  \neg. `<!-- include \"./mod1.js\" plain-id:mod1-script -->`  \nThe output will be `<script type=\"text/plain\" id=\"mod1-script\">...`\nYou can also use include in template file to mixin another template.  \neg. `<!-- include \"./foo.tpl.html\" -->`  \n- `require` : Require is an instruction for building AMD module into Html source file. It also supports plain-id.  \neg. `<!-- require \"./mod1\" -->`\n- `uglify` : Uglify JS code built into Html source file.  \neg. `<!-- uglify -1 -->`\n- `cssmin` : Compress CSS code built into Html source file.  \neg. `<!-- cssmin true -->`\n\n### Use language resource in html source file\nLanguage resource can be used as `${{a.b.c}}$` in html source file\nIf you have a language resource file \"lang/en/foo.js\" as below.\n```javascript\ndefine({\n  label: {\n    bar: 'Bar'\n  } \n});\n```\nYou can use `${{foo.label.bar}}$` in html source file.\n\n## Examples\nhttps://github.com/webyom/grunt-yomb-example\n",
  "readmeFilename": "README.md",
  "_id": "grunt-yomb@0.4.10",
  "dist": {
    "shasum": "c26420c6412c001cd5c42ad21bffe25b00e11208"
  },
  "_from": "grunt-yomb@~0.4.7",
  "_resolved": "https://registry.npmjs.org/grunt-yomb/-/grunt-yomb-0.4.10.tgz"
}
